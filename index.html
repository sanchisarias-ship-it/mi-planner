<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Mi Planner Saludable</title>
<style>
body { font-family:-apple-system,BlinkMacSystemFont,Arial; background:#f2f2f7; margin:0; }
header { background:#000; color:#fff; padding:16px; text-align:center; }
nav { display:flex; background:#111; }
nav button { flex:1; padding:10px; color:#fff; background:#111; border:none; font-size:13px; }
nav button.active { background:#333; }
section { display:none; padding:14px; }
section.active { display:block; }
.card { background:#fff; padding:14px; border-radius:14px; margin-bottom:12px; }
.grid { display:grid; grid-template-columns: repeat(7,1fr); gap:6px; }
.weekdays { display:grid; grid-template-columns: repeat(7,1fr); font-size:12px; text-align:center; margin-bottom:6px; color:#666;}
.day { background:#eee; padding:8px; border-radius:10px; font-size:12px; text-align:center; }
</style>
</head>
<body>

<header>
<h1>üö¥‚Äç‚ôÇÔ∏è Mi Planner Saludable</h1>
<p>Versi√≥n optimizada</p>
</header>

<nav>
<button class="active" onclick="showTab('hoy',this)">Hoy</button>
<button onclick="showTab('calendario',this)">Calendario</button>
<button onclick="showTab('alimentos',this)">Alimentos</button>
<button onclick="showTab('compra',this)">Compra</button>
</nav>

<section id="hoy" class="active"><div class="card" id="hoyContenido"></div></section>

<section id="calendario">
<div class="card">
<div class="weekdays"><div>Lun</div><div>Mar</div><div>Mi√©</div><div>Jue</div><div>Vie</div><div>S√°b</div><div>Dom</div></div>
<div id="calendar" class="grid"></div>
</div>
</section>

<section id="alimentos"><div class="card" id="alimentosContenido"></div></section>
<section id="compra"><div class="card" id="compraContenido"></div></section>

<script>
const MENU = {"Lunes": {"Desayuno": ["Avena", "Pl√°tano", "Yogur natural"], "Comida": ["Arroz integral", "Pollo", "Tomate"], "Cena": ["Salm√≥n", "Br√≥coli", "Patata"]}, "Martes": {"Desayuno": ["Tostadas integrales", "Aguacate", "Huevo"], "Comida": ["Lentejas", "Zanahoria", "Cebolla"], "Cena": ["Merluza", "Ensalada", "Quinoa"]}, "Mi√©rcoles": {"Desayuno": ["Fruta", "Yogur", "Nueces"], "Comida": ["Pasta integral", "Pavo", "Pimientos"], "Cena": ["Tortilla", "Espinacas", "Pan integral"]}, "Jueves": {"Desayuno": ["Avena", "Manzana", "Leche"], "Comida": ["Arroz", "At√∫n", "Tomate"], "Cena": ["Pollo", "Verduras"]}, "Viernes": {"Desayuno": ["Yogur", "Granola", "Pl√°tano"], "Comida": ["Boniato", "Ternera", "Ensalada"], "Cena": ["Sopa de verduras", "Huevo"]}, "S√°bado": {"Desayuno": ["Pan integral", "Queso fresco", "Fruta"], "Comida": ["Paella saludable", "Ensalada"], "Cena": ["Pescado", "Verduras"]}, "Domingo": {"Desayuno": ["Tortitas de avena", "Miel", "Fruta"], "Comida": ["Arroz", "Pollo", "Verduras"], "Cena": ["Crema de verduras", "Yogur"]}};
const CATS = {"Prote√≠nas": ["Pollo", "Pavo", "Ternera", "At√∫n", "Salm√≥n", "Merluza", "Huevo", "Huevos", "Yogur", "Queso", "Lentejas"], "Verduras": ["Tomate", "Br√≥coli", "Zanahoria", "Cebolla", "Pimientos", "Espinacas", "Ensalada", "Verduras", "Lechuga"], "Hidratos": ["Avena", "Arroz", "Pasta", "Pan", "Patata", "Boniato", "Quinoa", "Granola"]};
const dias = ["Lunes","Martes","Mi√©rcoles","Jueves","Viernes","S√°bado","Domingo"];

function showTab(id,btn){
  document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
  document.querySelectorAll("nav button").forEach(b=>b.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  btn.classList.add("active");
}

// HOY
function renderHoy(){
  const today = new Date();
  const d = dias[(today.getDay()+6)%7];
  let html = "<h2>"+d+"</h2>";
  Object.keys(MENU[d]).forEach(tipo=>{
    html += "<h3>"+tipo+"</h3><ul>";
    MENU[d][tipo].forEach(i=> html += "<li>"+i+"</li>");
    html += "</ul>";
  });
  document.getElementById("hoyContenido").innerHTML = html;
}

// CALENDARIO simple
function renderCalendar(){
  const now=new Date();
  const y=now.getFullYear(), m=now.getMonth();
  const first=(new Date(y,m,1).getDay()+6)%7;
  const days=new Date(y,m+1,0).getDate();
  let cont=document.getElementById("calendar");
  cont.innerHTML="";
  for(let i=0;i<first;i++) cont.innerHTML+="<div></div>";
  for(let d=1;d<=days;d++) cont.innerHTML+="<div class='day'>"+d+"</div>";
}

// ALIMENTOS
function renderAlimentos(){
  let html="";
  for(let cat in CATS){
    html+="<h3>"+cat+"</h3><ul>";
    CATS[cat].forEach(a=>html+="<li>"+a+"</li>");
    html+="</ul>";
  }
  document.getElementById("alimentosContenido").innerHTML=html;
}

// COMPRA
function renderCompra(){
  let compra={};
  for(let cat in CATS) compra[cat]=new Set();
  dias.forEach(d=>{
    Object.values(MENU[d]).forEach(lista=>{
      lista.forEach(item=>{
        for(let cat in CATS){
          if(CATS[cat].some(f=>item.toLowerCase().includes(f.toLowerCase()))) compra[cat].add(item);
        }
      });
    });
  });
  let html="";
  for(let cat in compra){
    if(compra[cat].size===0) continue;
    html+="<h3>"+cat+"</h3><ul>";
    compra[cat].forEach(i=>html+="<li><input type='checkbox'> "+i+"</li>");
    html+="</ul>";
  }
  document.getElementById("compraContenido").innerHTML=html;
}

renderHoy(); renderCalendar(); renderAlimentos(); renderCompra();
</script>
</body>
</html>
